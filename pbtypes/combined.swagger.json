{
  "swagger": "2.0",
  "info": {
    "title": "Infrastructure/servers/server.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "ServerService"
    },
    {
      "name": "ContainerService"
    },
    {
      "name": "MachineService"
    },
    {
      "name": "StorageService"
    },
    {
      "name": "ResourceService"
    },
    {
      "name": "UserService"
    },
    {
      "name": "NetworkService"
    },
    {
      "name": "SystemService"
    },
    {
      "name": "DiskService"
    },
    {
      "name": "LogService"
    },
    {
      "name": "DeviceService"
    },
    {
      "name": "MonitorService"
    },
    {
      "name": "SecurityService"
    },
    {
      "name": "ProcessService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/containers": {
      "get": {
        "operationId": "ContainerService_GetContainers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/containersGetContainersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "hostname",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "ContainerService"
        ]
      }
    },
    "/v1/device/screen": {
      "get": {
        "operationId": "DeviceService_GetScreenCapture",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/deviceGetScreenCaptureResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "hostname",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "DeviceService"
        ]
      }
    },
    "/v1/device/screen/resolution": {
      "post": {
        "operationId": "DeviceService_SetScreenResolution",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/deviceSetScreenResolutionResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/deviceSetScreenResolutionRequest"
            }
          }
        ],
        "tags": [
          "DeviceService"
        ]
      }
    },
    "/v1/disk/stats": {
      "get": {
        "operationId": "DiskService_GetDiskStats",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/diskGetDiskStatsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "hostname",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "DiskService"
        ]
      }
    },
    "/v1/logs": {
      "get": {
        "operationId": "LogService_GetLogs",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/logsGetLogsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "hostname",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "service",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "LogService"
        ]
      }
    },
    "/v1/machines": {
      "get": {
        "operationId": "MachineService_GetMachines",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/machinesGetMachinesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "hostname",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "MachineService"
        ]
      }
    },
    "/v1/network/stats": {
      "get": {
        "operationId": "NetworkService_GetNetworkStats",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/networkGetNetworkStatsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "hostname",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "NetworkService"
        ]
      }
    },
    "/v1/processes": {
      "get": {
        "operationId": "ProcessService_GetProcesses",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/processGetProcessesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "hostname",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "ProcessService"
        ]
      }
    },
    "/v1/processes/kill": {
      "post": {
        "operationId": "ProcessService_KillProcess",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/processKillProcessResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/processKillProcessRequest"
            }
          }
        ],
        "tags": [
          "ProcessService"
        ]
      }
    },
    "/v1/resources": {
      "get": {
        "operationId": "ResourceService_GetResources",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/resourcesGetResourcesResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "hostname",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "ResourceService"
        ]
      }
    },
    "/v1/security/status": {
      "get": {
        "operationId": "SecurityService_GetSecurityStatus",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/securityGetSecurityStatusResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "hostname",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "SecurityService"
        ]
      }
    },
    "/v1/servers": {
      "get": {
        "operationId": "ServerService_GetServers",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/serversGetServersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "hostname",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "ServerService"
        ]
      }
    },
    "/v1/stats": {
      "get": {
        "summary": "Thêm một RPC unary để lấy stats",
        "operationId": "MonitorService_GetStats",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/monitorStatsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "hostname",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "cpu",
            "in": "query",
            "required": false,
            "type": "number",
            "format": "double"
          },
          {
            "name": "ram",
            "in": "query",
            "required": false,
            "type": "number",
            "format": "double"
          },
          {
            "name": "disk",
            "in": "query",
            "required": false,
            "type": "number",
            "format": "double"
          }
        ],
        "tags": [
          "MonitorService"
        ]
      }
    },
    "/v1/stats/stream": {
      "post": {
        "summary": "Stream từ Agent gửi về Server",
        "operationId": "MonitorService_StreamStats",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/monitorStatsResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "description": " (streaming inputs)",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/monitorStatsRequest"
            }
          }
        ],
        "tags": [
          "MonitorService"
        ]
      }
    },
    "/v1/storage": {
      "get": {
        "operationId": "StorageService_GetStorage",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/storageGetStorageResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "hostname",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "StorageService"
        ]
      }
    },
    "/v1/system/info": {
      "get": {
        "operationId": "SystemService_GetSystemInfo",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/systemGetSystemInfoResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "hostname",
            "in": "query",
            "required": false,
            "type": "string"
          }
        ],
        "tags": [
          "SystemService"
        ]
      }
    },
    "/v1/user/login": {
      "post": {
        "operationId": "UserService_Login",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/userLoginResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/userLoginRequest"
            }
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    },
    "/v1/user/{id}": {
      "get": {
        "operationId": "UserService_GetUser",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/userGetUserResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "UserService"
        ]
      }
    }
  },
  "definitions": {
    "containersContainer": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "image": {
          "type": "string"
        },
        "status": {
          "type": "string"
        }
      }
    },
    "containersGetContainersResponse": {
      "type": "object",
      "properties": {
        "containers": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/containersContainer"
          }
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "deviceGetScreenCaptureResponse": {
      "type": "object",
      "properties": {
        "imageData": {
          "type": "string",
          "format": "byte"
        },
        "format": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "deviceSetScreenResolutionRequest": {
      "type": "object",
      "properties": {
        "hostname": {
          "type": "string"
        },
        "width": {
          "type": "integer",
          "format": "int32"
        },
        "height": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "deviceSetScreenResolutionResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "diskDiskPartition": {
      "type": "object",
      "properties": {
        "mountPoint": {
          "type": "string"
        },
        "total": {
          "type": "number",
          "format": "double"
        },
        "used": {
          "type": "number",
          "format": "double"
        },
        "free": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "diskGetDiskStatsResponse": {
      "type": "object",
      "properties": {
        "partitions": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/diskDiskPartition"
          }
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "logsGetLogsResponse": {
      "type": "object",
      "properties": {
        "entries": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/logsLogEntry"
          }
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "logsLogEntry": {
      "type": "object",
      "properties": {
        "time": {
          "type": "string",
          "format": "int64"
        },
        "level": {
          "type": "string"
        },
        "message": {
          "type": "string"
        }
      }
    },
    "machinesGetMachinesResponse": {
      "type": "object",
      "properties": {
        "machines": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/machinesMachine"
          }
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "machinesMachine": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "location": {
          "type": "string"
        }
      }
    },
    "monitorStatsRequest": {
      "type": "object",
      "properties": {
        "hostname": {
          "type": "string"
        },
        "cpu": {
          "type": "number",
          "format": "double"
        },
        "ram": {
          "type": "number",
          "format": "double"
        },
        "disk": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "monitorStatsResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "networkGetNetworkStatsResponse": {
      "type": "object",
      "properties": {
        "interfaces": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/networkNetworkInterface"
          }
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "networkNetworkInterface": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "ip": {
          "type": "string"
        },
        "rxBytes": {
          "type": "number",
          "format": "double"
        },
        "txBytes": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "processGetProcessesResponse": {
      "type": "object",
      "properties": {
        "processes": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/processProcess"
          }
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "processKillProcessRequest": {
      "type": "object",
      "properties": {
        "hostname": {
          "type": "string"
        },
        "pid": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "processKillProcessResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "processProcess": {
      "type": "object",
      "properties": {
        "pid": {
          "type": "integer",
          "format": "int32"
        },
        "name": {
          "type": "string"
        },
        "cpu": {
          "type": "number",
          "format": "double"
        },
        "memory": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "resourcesGetResourcesResponse": {
      "type": "object",
      "properties": {
        "resources": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/resourcesResource"
          }
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "resourcesResource": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "value": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "securityGetSecurityStatusResponse": {
      "type": "object",
      "properties": {
        "issues": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/securitySecurityIssue"
          }
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "securitySecurityIssue": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "severity": {
          "type": "string"
        }
      }
    },
    "serversGetServersResponse": {
      "type": "object",
      "properties": {
        "servers": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/serversServer"
          }
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "serversServer": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "status": {
          "type": "string"
        }
      }
    },
    "storageGetStorageResponse": {
      "type": "object",
      "properties": {
        "items": {
          "type": "array",
          "items": {
            "type": "object",
            "$ref": "#/definitions/storageStorageItem"
          }
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "storageStorageItem": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "capacity": {
          "type": "number",
          "format": "double"
        },
        "used": {
          "type": "number",
          "format": "double"
        }
      }
    },
    "systemGetSystemInfoResponse": {
      "type": "object",
      "properties": {
        "os": {
          "type": "string"
        },
        "arch": {
          "type": "string"
        },
        "uptime": {
          "type": "integer",
          "format": "int32"
        },
        "kernelVersion": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "userGetUserResponse": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "username": {
          "type": "string"
        },
        "email": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    },
    "userLoginRequest": {
      "type": "object",
      "properties": {
        "username": {
          "type": "string"
        },
        "password": {
          "type": "string"
        }
      }
    },
    "userLoginResponse": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        },
        "message": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "int64"
        }
      }
    }
  }
}
